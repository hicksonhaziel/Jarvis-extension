var Ce=Object.defineProperty;var De=(t,i,s)=>i in t?Ce(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s;var te=(t,i,s)=>De(t,typeof i!="symbol"?i+"":i,s);import{r as a,M as Se,j as e,i as _e,d as he,P as Me,e as Pe,g as Ae,L as Re,c as C,a as A,m as $,W as le,f as Fe,A as se,u as I,F as me,h as V,k as ne,R as ue,T as ze,b as Te}from"./globals-L6gN_Oex.js";class Le extends a.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const o=s.offsetParent,u=_e(o)&&o.offsetWidth||0,n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft,n.right=u-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ie({children:t,isPresent:i,anchorX:s,root:o}){const u=a.useId(),n=a.useRef(null),l=a.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=a.useContext(Se);return a.useInsertionEffect(()=>{const{width:g,height:c,top:p,left:b,right:r}=l.current;if(i||!n.current||!g||!c)return;const d=s==="left"?`left: ${b}`:`right: ${r}`;n.current.dataset.motionPopId=u;const x=document.createElement("style");y&&(x.nonce=y);const m=o??document.head;return m.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${c}px !important;
            ${d}px !important;
            top: ${p}px !important;
          }
        `),()=>{m.contains(x)&&m.removeChild(x)}},[i]),e.jsx(Le,{isPresent:i,childRef:n,sizeRef:l,children:a.cloneElement(t,{ref:n})})}const Ee=({children:t,initial:i,isPresent:s,onExitComplete:o,custom:u,presenceAffectsLayout:n,mode:l,anchorX:y,root:g})=>{const c=he(Ue),p=a.useId();let b=!0,r=a.useMemo(()=>(b=!1,{id:p,initial:i,isPresent:s,custom:u,onExitComplete:d=>{c.set(d,!0);for(const x of c.values())if(!x)return;o&&o()},register:d=>(c.set(d,!1),()=>c.delete(d))}),[s,c,o]);return n&&b&&(r={...r}),a.useMemo(()=>{c.forEach((d,x)=>c.set(x,!1))},[s]),a.useEffect(()=>{!s&&!c.size&&o&&o()},[s]),l==="popLayout"&&(t=e.jsx(Ie,{isPresent:s,anchorX:y,root:g,children:t})),e.jsx(Me.Provider,{value:r,children:t})};function Ue(){return new Map}const W=t=>t.key||"";function oe(t){const i=[];return a.Children.forEach(t,s=>{a.isValidElement(s)&&i.push(s)}),i}const T=({children:t,custom:i,initial:s=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:n="sync",propagate:l=!1,anchorX:y="left",root:g})=>{const[c,p]=Pe(l),b=a.useMemo(()=>oe(t),[t]),r=l&&!c?[]:b.map(W),d=a.useRef(!0),x=a.useRef(b),m=he(()=>new Map),[j,v]=a.useState(b),[w,S]=a.useState(b);Ae(()=>{d.current=!1,x.current=b;for(let N=0;N<w.length;N++){const k=W(w[N]);r.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[w,r.length,r.join("-")]);const _=[];if(b!==j){let N=[...b];for(let k=0;k<w.length;k++){const D=w[k],M=W(D);r.includes(M)||(N.splice(k,0,D),_.push(D))}return n==="wait"&&_.length&&(N=_),S(oe(N)),v(b),null}const{forceRender:f}=a.useContext(Re);return e.jsx(e.Fragment,{children:w.map(N=>{const k=W(N),D=l&&!c?!1:b===w||r.includes(k),M=()=>{if(m.has(k))m.set(k,!0);else return;let P=!0;m.forEach(R=>{R||(P=!1)}),P&&(f==null||f(),S(x.current),l&&(p==null||p()),o&&o())};return e.jsx(Ee,{isPresent:D,initial:!d.current||s?void 0:!1,custom:i,presenceAffectsLayout:u,mode:n,root:g,onExitComplete:D?void 0:M,anchorX:y,children:N},k)})})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ce=C("activity",Be);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],He=C("arrow-left",Oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ve=C("arrow-right",We);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qe=C("chevron-down",Ge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xe=C("chevron-left",Ke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Je=C("circle-alert",Ze);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ae=C("circle-check-big",Ye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ge=C("circle-x",Qe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pe=C("dollar-sign",et);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],st=C("inbox",tt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],de=C("info",at);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lt=C("layout-dashboard",it);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xe=C("loader-circle",rt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ot=C("mic",nt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dt=C("moon",ct);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],re=C("plus",xt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],U=C("refresh-cw",ht);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ut=C("search",mt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],G=C("server",gt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bt=C("settings",pt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ft=C("sun",yt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wt=C("trash-2",jt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],be=C("triangle-alert",Nt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kt=C("wifi-off",vt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ct=C("wifi",$t);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B=C("x",Dt),St=()=>{const{theme:t,toggleTheme:i,loading:s}=A(),[o,u]=a.useState(null);return a.useEffect(()=>{(async()=>{const l=await se.getWalletAddress();u(l)})()},[]),s?null:e.jsx("header",{className:`${t==="light"?"bg-gray-100 border-gray-200":"bg-gray-900 border-gray-800"} shadow-sm border-b`,children:e.jsxs("div",{className:"flex justify-between py-4 px-3",children:[e.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"flex justify-center gap-2",children:[e.jsx("div",{className:"text-4xl",children:e.jsx("svg",{className:"text-[#FF4444] size-12",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{clipRule:"evenodd",d:"M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z",fill:"currentColor",fillRule:"evenodd"})})}),e.jsx("h2",{className:`${t==="light"?"text-black":"text-white"} font-bold text-4xl`,children:"Jarvis"})]}),e.jsx("div",{className:"relative",children:e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-center gap-4 items-center",children:[e.jsxs("div",{className:`flex ${t==="light"?"bg-gray-400":"bg-gray-800"} cursor-pointer items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-bold tracking-[0.015em] transition-colors hover:bg-opacity-80`,children:[e.jsx(le,{size:24,className:"text-cyan-800"}),e.jsx("span",{className:`truncate ${t==="light"?"text-black":"text-white"}`,children:Fe(o)})]}),e.jsx("button",{onClick:i,className:"cursor-pointer flex items-center justify-center rounded-full p-2 transition bg-gray-300 dark:bg-gray-700",children:t==="light"?e.jsx(ft,{size:24,className:"text-yellow-500"}):e.jsx(dt,{size:24,className:"text-blue-400"})})]})})]})})},ye=()=>{const[t,i]=a.useState(window.location.hash.slice(1)||"home");return a.useEffect(()=>{const o=()=>{i(window.location.hash.slice(1)||"home")};return window.addEventListener("hashchange",o),()=>window.removeEventListener("hashchange",o)},[]),{currentRoute:t,navigate:o=>{window.location.hash=o}}},q=({children:t})=>e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black/50 backdrop-blur flex items-center justify-center",children:e.jsx("div",{className:"",children:t})}),fe=({isOPen:t,onClose:i,onAlert:s})=>{const{createDeployment:o,estimatePricing:u,loading:n}=I(),[l,y]=a.useState(1),[g,c]=a.useState(null),[p,b]=a.useState(!1),[r,d]=a.useState(null),[x,m]=a.useState(!1),[j,v]=a.useState("nginx:latest"),[w,S]=a.useState(1),[_,f]=a.useState(512),[N,k]=a.useState("MB"),[D,M]=a.useState(1),[P,R]=a.useState("GB"),[F,X]=a.useState("80"),[z,O]=a.useState(10),[E,Z]=a.useState("USD"),[L]=a.useState([{id:1,value:"hosting",tag:"Hosting"},{id:2,value:"database",tag:"Database"},{id:3,value:"compute",tag:"Compute"},{id:4,value:"kubernetes",tag:"Kubernetes"}]),J=()=>y(h=>Math.min(h+1,4)),Y=()=>y(h=>Math.max(h-1,1));a.useEffect(()=>{l===3&&g&&Q()},[l,w,_,N,D,P]);const Q=async()=>{m(!0);const h=await u({cpu:w,memory:`${_}${N}`,storage:`${D}${P}`});h&&(d(h.pricing.estimated_monthly_cost_usd),O(h.pricing.estimated_monthly_cost_usd)),m(!1)},ee=async()=>{b(!0);const h={image:j,cpu:w,memory:`${_}${N}`,storage:`${D}${P}`,ports:F.split(",").map($e=>parseInt($e.trim())),payment_amount:z,payment_currency:E},H=await o(h);b(!1),H?(i(),s("success",`Deployment created successfully! ID: ${H.deployment_id}`)):s("error","Failed to create deployment. Please try again.")};return e.jsx(T,{children:t&&e.jsx(q,{children:e.jsxs($.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[500px] max-w-4xl h-[550px] border-black/10 text-white bg-gray-900 opacity-5 flex flex-col  glassmorphism-card overflow-hidden border shadow-xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Create New Deployment"}),e.jsx("button",{onClick:i,className:"text-white/50 hover:text-white transition-colors",children:e.jsx(B,{size:24})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-sm font-medium text-white/70",children:["Step ",l," of 4"]})}),e.jsx("div",{className:"w-full bg-gray-900 rounded-full h-2",children:e.jsx($.div,{className:"bg-[#00D2FF] h-2 rounded-full",initial:{width:0},animate:{width:`${l/4*100}%`},transition:{duration:.4}})})]}),e.jsx("main",{className:"flex-grow p-6 overflow-y-auto",children:e.jsxs(T,{mode:"wait",children:[l===1&&e.jsxs($.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Select Deployment Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:L.map(h=>e.jsxs("label",{className:"group relative cursor-pointer",children:[e.jsx("input",{name:"deployment_type",type:"radio",className:"sr-only peer",value:h.value,checked:g===h.value,onChange:()=>c(h.value)}),e.jsx("div",{className:`p-6 flex justify-center rounded-lg text-center border-2 transition-all duration-300
                            ${g===h.value?"border-cyan-200 bg-gray-900/50":"border-transparent bg-gray-900"} group-hover:border-cyan-200`,children:e.jsx("p",{className:"font-bold text-lg text-white",children:h.tag})})]},h.id))})]},"step1"),l===2&&e.jsxs($.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Deployment Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Image"}),e.jsx("input",{value:j,onChange:h=>v(h.target.value),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",placeholder:"nginx:latest"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"CPU Cores"}),e.jsx("input",{type:"number",step:"0.1",value:w,onChange:h=>S(parseFloat(h.target.value)),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Memory"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:_,onChange:h=>f(parseFloat(h.target.value)),className:"flex-1 px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"}),e.jsxs("select",{value:N,onChange:h=>k(h.target.value),className:"px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",children:[e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"GB",children:"GB"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Storage"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:D,onChange:h=>M(parseFloat(h.target.value)),className:"flex-1 px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"}),e.jsxs("select",{value:P,onChange:h=>R(h.target.value),className:"px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",children:[e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"GB",children:"GB"}),e.jsx("option",{value:"TB",children:"TB"})]})]})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Ports"}),e.jsx("input",{value:F,onChange:h=>X(h.target.value),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",placeholder:"80, 443"})]})]})]})]},"step2"),l===3&&e.jsxs($.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Payment Information"}),x&&e.jsx("div",{className:"mb-4 p-3 bg-cyan-500/10 border border-cyan-500/30 rounded text-cyan-300 text-sm",children:"Calculating estimated price..."}),r!==null&&!x&&e.jsxs("div",{className:"mb-4 p-3 bg-cyan-500/10 border border-cyan-500/30 rounded",children:[e.jsx("p",{className:"text-cyan-300 text-sm",children:"Estimated monthly cost"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:["$",r.toFixed(2)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:z,onChange:h=>O(parseFloat(h.target.value)),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/70 mb-1",children:"Currency"}),e.jsxs("select",{value:E,onChange:h=>Z(h.target.value),className:"w-full px-3 py-2 rounded bg-gray-900 border border-white/10 text-white",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]})]},"step3"),l===4&&e.jsxs($.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Review & Confirm"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg text-white/80 space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Type:"})," ",g]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Image:"})," ",j]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"CPU:"})," ",w," cores"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Memory:"})," ",_,N]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Storage:"})," ",D,P]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-bold text-white",children:"Ports:"})," ",F]}),e.jsxs("p",{className:"pt-2 border-t border-white/10",children:[e.jsx("span",{className:"font-bold text-white",children:"Payment:"})," ",z.toFixed(2)," ",E]})]})})]},"step4")]})}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[e.jsx("button",{onClick:i,disabled:p,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:Y,disabled:l===1||p,className:`px-6 py-2 rounded-lg font-bold ${l===1?"text-white/50 bg-gray-900 cursor-not-allowed":"text-white bg-transparent border border-white/20 hover:bg-white/10"}`,children:"Previous"}),l===4?e.jsx("button",{onClick:ee,disabled:p,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-black bg-[#00D2FF] hover:bg-[#00D2FF] hover:text-white shadow-lg shadow-cyan-200/20 disabled:opacity-50",children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deploying..."]}):"Deploy"}):e.jsx("button",{onClick:J,disabled:l===1&&!g,className:`px-6 py-2 rounded-lg font-bold ${l===1&&!g?"text-white/50 bg-gray-900 cursor-not-allowed":"text-black bg-[#00D2FF] hover:bg-[#00D2FF] hover:text-white shadow-lg shadow-cyan-200/20"}`,children:"Next"})]})]})]},"modal")})})},K=({type:t,message:i,isOpen:s,onClose:o})=>{const u={success:"bg-green-500/20 border-green-500/30 text-green-400",error:"bg-red-500/20 border-red-500/30 text-red-400",info:"bg-blue-500/20 border-blue-500/30 text-blue-400"},n={success:e.jsx(ae,{size:20}),error:e.jsx(ge,{size:20}),info:e.jsx(de,{size:20})},l=u[t]||"bg-gray-500/20 border-gray-500/30 text-gray-400",y=n[t]||e.jsx(de,{size:20});return e.jsx(T,{children:s&&e.jsx($.div,{initial:{opacity:0,x:500},animate:{opacity:1,x:0},exit:{opacity:0,x:500},transition:{duration:.4},className:`fixed top-[80px] right-[150px] px-4 py-3 rounded-lg backdrop-blur border shadow-lg ${l}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[y,e.jsx("span",{className:"font-medium flex-1",children:i}),e.jsx("button",{onClick:o,className:"hover:opacity-80 transition","aria-label":"Close",children:e.jsx(B,{size:18})})]})})})},je=()=>{const{theme:t,toggleTheme:i,loading:s}=A();return s?null:e.jsx("div",{children:e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:`glassmorphism-card ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} overflow-hidden rounded-xl border shadow-lg`,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:`flex items-center gap-4 border-b border-white/10 ${t==="light"?"border-black/10 hover:bg-black/5":"border-white/10 hover:bg-white/5"} p-4 transition-colors `,children:[e.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-lg ${t==="light"?"bg-gray-400":"bg-[#1A1B3A]"}  text-[#00D2FF]`,children:e.jsx(G,{size:26,className:"text-[#00D2FF]"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:`text-base font-medium ${t==="light"?"text-black":"text-white"}`,children:"Deployment #123"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Deployment created successfully"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"2 min ago"})]}),e.jsxs("div",{className:`flex items-center gap-4 border-b border-white/10 ${t==="light"?"border-black/10 hover:bg-black/5":"border-white/10 hover:bg-white/5"} p-4 transition-colors `,children:[e.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-lg ${t==="light"?"bg-gray-400":"bg-[#1A1B3A]"}  text-[#00D2FF]`,children:e.jsx(U,{size:26,className:"text-[#00D2FF]"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:`text-base font-medium ${t==="light"?"text-black":"text-white"}`,children:"Deployment #456"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Deployment updated"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"1 hour ago"})]}),e.jsxs("div",{className:`flex items-center gap-4 border-b border-white/10 ${t==="light"?"border-black/10 hover:bg-black/5":"border-white/10 hover:bg-white/5"} p-4 transition-colors `,children:[e.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-lg ${t==="light"?"bg-gray-400":"bg-[#1A1B3A]"}  text-[#00D2FF]`,children:e.jsx(wt,{size:26,className:"text-red-500"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:`text-base font-medium ${t==="light"?"text-black":"text-white"}`,children:"Deployment #789"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Deployment deleted"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"1 day ago"})]})]})})})},_t=me.AUDIO_MAX_DURATION,Mt=me.AUDIO_MAX_SIZE,Pt=(t,i,s)=>{const[o,u]=a.useState({isRecording:!1,duration:0,error:null,permissionGranted:!1}),n=a.useRef(null),l=a.useRef(null),y=a.useRef([]),g=a.useRef(null),c=a.useRef(null),p=a.useCallback(()=>{g.current&&(clearInterval(g.current),g.current=null),c.current&&(clearTimeout(c.current),c.current=null),l.current&&(l.current.getTracks().forEach(d=>d.stop()),l.current=null),n.current&&(n.current=null)},[]),b=a.useCallback(async()=>{try{const d=await navigator.mediaDevices.getUserMedia({audio:!0});l.current=d,y.current=[];const x=new MediaRecorder(d);n.current=x,x.ondataavailable=m=>{m.data.size>0&&y.current.push(m.data)},x.onstop=()=>{const m=new Blob(y.current,{type:"audio/wav"});if(m.size>Mt){const j=`Recording too large: ${(m.size/1024/1024).toFixed(2)}MB`;console.error("error",j),u(v=>({...v,error:j})),s==null||s(j)}else i==null||i(m);p()},x.onerror=m=>{var v;const j=`Recording error: ${((v=m.error)==null?void 0:v.message)||"Unknown error"}`;console.error("error",j),u(w=>({...w,error:j,isRecording:!1})),s==null||s(j),p()},x.start(),u(m=>({...m,isRecording:!0,duration:0,permissionGranted:!0,error:null})),g.current=setInterval(()=>{u(m=>({...m,duration:m.duration+1e3}))},1e3),c.current=setTimeout(()=>{r()},_t)}catch(d){let x="Failed to start recording";d instanceof Error&&(d.message.includes("Permission denied")||d.message.includes("NotAllowed")?x="Microphone permission denied":d.message.includes("NotFound")?x="No microphone found":x=d.message),console.error("error",x),u(m=>({...m,error:x,isRecording:!1,permissionGranted:!1})),s==null||s(x)}},[o.duration,i,s,p]),r=a.useCallback(()=>{n.current&&o.isRecording&&(n.current.stop(),u(d=>({...d,isRecording:!1})))},[o.isRecording]);return a.useEffect(()=>{t!==void 0&&(t&&!o.isRecording?b():!t&&o.isRecording&&r())},[t,o.isRecording,b,r]),a.useEffect(()=>p,[p]),{...o,startRecording:b,stopRecording:r}},At=({onVoiceCommandResult:t})=>{const{theme:i,loading:s}=A(),{listDeployments:o,processVoiceCommand:u}=I(),[n,l]=a.useState(!1),[y,g]=a.useState(0),[c,p]=a.useState(null);a.useEffect(()=>{(async()=>{const m=await o();m!=null&&m.deployments&&g(m.deployments.length)})()},[]);const{duration:b,error:r,permissionGranted:d}=Pt(n,async x=>{console.log("Recording saved!",x),l(!1),p("Processing voice command...");const m=new File([x],"voice.wav",{type:"audio/wav"}),j=await u(m);j?(p("Command processed successfully!"),t&&t(j.raw_text,j),setTimeout(()=>{p(null)},2e3)):(p("Failed to process command."),setTimeout(()=>{p(null)},3e3))},x=>{console.error("Recording error:",x),p("Recording error."),setTimeout(()=>{p(null)},3e3)});return a.useEffect(()=>{b>=3e4&&n&&l(!1)},[b,n]),s?null:e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs($.div,{initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},whileHover:{y:-10},className:`glassmorphism-card ${i==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} col-span-1 flex flex-col items-center justify-center rounded-xl border  p-6 shadow-lg`,children:[e.jsx("h3",{className:`text-lg font-medium ${i==="light"?"text-gray-900":"text-gray-300"}`,children:"AKT Balance"}),e.jsx("p",{className:"text-2xl font-bold tracking-tight text-[#00D2FF]",children:"123.45 AKT"})]}),e.jsx($.div,{initial:{opacity:0,y:23},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},whileHover:{y:-10},className:`glassmorphism-card ${i==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} flex justify-center item-center rounded-xl border p-6 shadow-lg`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("p",{className:`text-base font-medium ${i==="light"?"text-gray-900":"text-gray-300"}`,children:"Total Deployments"}),e.jsx("p",{className:`text-2xl font-bold ${i==="light"?"text-gray-600":"text-white"}`,children:y})]})}),e.jsx($.div,{initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},whileHover:{y:-10},className:`glassmorphism-card ${i==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} col-span-1 flex items-center justify-center rounded-xl border  p-6 shadow-lg`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("button",{onClick:()=>l(!n),disabled:!!(r&&!d),className:`group flex h-20 w-20 items-center justify-center rounded-full bg-[#00D2FF] transition-all duration-300 hover:scale-110 ${n?"animate-pulse":""} disabled:opacity-50 disabled:cursor-not-allowed`,children:e.jsx(ot,{size:32,className:"text-gray-800"})}),n&&e.jsx("p",{className:"mt-2 text-sm text-center",children:c||"Listening..."}),!n&&c&&e.jsx("p",{className:`mt-2 text-sm text-center ${c.includes("success")?"text-green-400":c.includes("Failed")||c.includes("error")?"text-red-400":""}`,children:c}),!n&&!c&&e.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:"Click to start recording"})]})})]})})},Rt=({isOPen:t,text:i,result:s,onClose:o})=>{var c,p,b,r,d;const u=((c=s==null?void 0:s.command)==null?void 0:c.action)||"N/A",n=((p=s==null?void 0:s.command)==null?void 0:p.image)||"N/A",l=((b=s==null?void 0:s.result)==null?void 0:b.status)||(s==null?void 0:s.status)||"N/A",y=((r=s==null?void 0:s.result)==null?void 0:r.deployment_id)||"N/A",g=((d=s==null?void 0:s.result)==null?void 0:d.message)||"";return e.jsx(T,{children:t&&e.jsx(q,{children:e.jsxs($.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[500px] max-w-4xl h-[550px] flex flex-col glassmorphism-card overflow-hidden border border-white/10 shadow-2xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Voice Command Result"}),e.jsx("button",{onClick:o,className:"text-white/50 hover:text-white transition-colors disabled:opacity-50",children:e.jsx(B,{size:24})})]}),e.jsxs("main",{className:"flex-grow p-6 overflow-y-auto text-white space-y-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-white/50 mb-1",children:"Voice Input"}),e.jsx("p",{className:"font-mono text-sm bg-white/5 p-3 rounded-lg border border-white/10",children:i||"No text provided"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase text-white/50 mb-2",children:"Command Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Action"}),e.jsx("p",{className:"font-mono text-sm",children:u})]}),e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Image"}),e.jsx("p",{className:"font-mono text-sm",children:n})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase text-white/50 mb-2",children:"Deployment Result"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${l==="success"?"bg-green-500 text-white":"bg-yellow-500 text-gray-900"}`,children:l})]}),y!=="N/A"&&e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Deployment ID"}),e.jsx("p",{className:"font-mono text-xs break-all",children:y})]}),g&&e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/10",children:[e.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Message"}),e.jsx("p",{className:"text-sm",children:g})]})]})]})]}),e.jsx("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:e.jsx("button",{onClick:o,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Close"})})]},"modal")})})},Ft=()=>{const{theme:t,loading:i}=A(),[s,o]=a.useState(!1),[u,n]=a.useState(!1),[l,y]=a.useState(null),[g,c]=a.useState(null);if(i)return null;const p=(d,x)=>{y({type:d,message:x}),setTimeout(()=>y(null),5e3)},b=(d,x)=>{c({rawText:d,result:x}),n(!0)},r=()=>{n(!1),setTimeout(()=>c(null),300)};return e.jsxs("div",{className:"flex-1 overflow-y-auto p-10",children:[e.jsx(At,{onVoiceCommandResult:b}),e.jsxs($.div,{initial:{opacity:0,y:26},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mt-8 flex items-center justify-between",children:[e.jsx("h2",{className:`text-2xl font-bold tracking-[-0.015em] ${t==="light"?"text-black":"text-white"}`,children:"Recent Activity"}),e.jsxs("button",{onClick:()=>o(!0),className:"flex min-w-[84px] cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-xl bg-[#00D2FF] h-12 px-6 text-base font-bold tracking-[0.015em] text-black transition-transform hover:scale-105",children:[e.jsx(re,{size:26}),e.jsx("span",{className:"truncate",children:"Add New Deployment"})]})]}),e.jsx("div",{className:"mt-4 flow-root",children:e.jsx("div",{className:"-my-2 overflow-x-auto",children:e.jsx("div",{className:"inline-block min-w-full py-2 align-middle",children:e.jsx(je,{})})})}),e.jsx(fe,{isOPen:s,onClose:()=>o(!1),onAlert:p}),e.jsx(Rt,{isOPen:u,onClose:r,text:(g==null?void 0:g.rawText)||"",result:(g==null?void 0:g.result)||null}),e.jsx(K,{isOpen:!!l,onClose:()=>y(null),type:(l==null?void 0:l.type)||"",message:(l==null?void 0:l.message)||""})]})},we=({isOPen:t,onClose:i,image:s,deployment_id:o,onAlert:u})=>{const{terminateDeployment:n,loading:l}=I(),[y,g]=a.useState(!1),c=async()=>{g(!0);const p=await n(o);g(!1),p?(i(),u("success",`Deployment ${p.deployment_id} terminated successfully!`)):u("error","An error occurred. Please try again later!")};return e.jsx(T,{children:t&&e.jsx(q,{children:e.jsxs($.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[400px] max-w-4xl h-[400px] flex flex-col glassmorphism-card overflow-hidden border border-white/10 shadow-2xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Delete Deployment"}),e.jsx("button",{onClick:i,disabled:y,className:"text-white/50 hover:text-white transition-colors disabled:opacity-50",children:e.jsx(B,{size:24})})]}),e.jsxs("main",{className:"flex-grow p-6 overflow-y-auto text-white space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3 bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg",children:[e.jsx(be,{size:20,className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"You are about to permanently delete this deployment. This action cannot be undone."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-white/50",children:"Image"}),e.jsx("p",{className:"font-mono text-sm",children:s})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-white/50",children:"Deployment ID"}),e.jsx("p",{className:"font-mono text-sm",children:o})]})]})]}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[e.jsx("button",{onClick:i,disabled:y,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:c,disabled:y,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-white bg-red-500 hover:bg-red-600 shadow-lg shadow-red-200/20 disabled:opacity-50",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):"Delete"})]})]},"modal")})})},zt=({setIsDeploymentId:t,deploymentId:i})=>{const{theme:s,loading:o}=A(),{getDeploymentStatus:u,loading:n}=I(),[l,y]=a.useState(null),[g,c]=a.useState(!1),[p,b]=a.useState(null),[r,d]=a.useState(!1);a.useEffect(()=>{i&&x()},[i]);const x=async()=>{if(!i)return;const w=await u(i);w?y(w):j("error","Failed to load deployment details")},m=async()=>{d(!0),await x(),d(!1),j("success","Deployment details refreshed")},j=(w,S)=>{b({type:w,message:S}),setTimeout(()=>b(null),1e4)},v=()=>{j("success","Deployment deleted successfully"),setTimeout(()=>{t(!1)},1500)};return o?null:e.jsxs("main",{className:"flex-1 p-4 flex flex-col",children:[e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{onClick:()=>t(!1),className:`${s==="light"?"text-black":"text-white"} cursor-pointer hover:opacity-70 transition-opacity`,children:e.jsx(Xe,{size:35})}),e.jsx("button",{onClick:m,disabled:r||n,className:"p-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",title:"Refresh deployment details",children:e.jsx(U,{size:20,className:`${s==="light"?"text-black":"text-white"} ${r?"animate-spin":""}`})})]}),e.jsxs("h2",{className:`text-2xl font-bold ${s==="light"?"text-black":"text-white"}`,children:["Deployment",e.jsxs("span",{className:"text-gray-500 text-xl ml-2",children:["(",i,")"]})]})]}),n&&!l&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(U,{size:32,className:"animate-spin text-[#00D2FF]"})}),l&&e.jsx("section",{children:e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card p-6 ${s==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} flex flex-col overflow-hidden border shadow-lg rounded-xl justify-between transition-all duration-300`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mx-5 mt-2",children:[e.jsxs("h2",{className:`text-2xl font-bold ${s==="light"?"text-black":"text-white"}`,children:["Deployment ",l.deployment_id]}),e.jsxs("span",{className:`
                        ${l.status_data.status==="active"?"bg-green-500/20 text-green-400":l.status_data.status==="pending"?"bg-yellow-500/20 text-yellow-400":l.status_data.status==="terminated"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}
                        flex items-center text-sm font-semibold px-4 py-2 rounded-full
                      `,children:[e.jsx("span",{className:`
                          ${l.status_data.status==="active"?"bg-green-400":l.status_data.status==="pending"?"bg-yellow-400 animate-pulse":l.status_data.status==="terminated"?"bg-red-400":"bg-gray-400"}
                          w-4 h-4 rounded-full mr-4
                        `}),l.status_data.status]})]}),e.jsxs("div",{className:"flex flex-col my-8",children:[e.jsx("h2",{className:`p-2 m-2 text-2xl font-bold ${s==="light"?"text-black":"text-white"}`,children:"Deployment Information"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 p-2 m-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Deployment ID:"})," ",l.deployment_id]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Provider:"})," ",l.status_data.provider]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"CPU:"})," ",l.status_data.resources.cpu," cores"]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Memory:"})," ",l.status_data.resources.memory]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Storage:"})," ",l.status_data.resources.storage]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Wallet Address:"})," ",l.wallet_address]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Last Updated:"})," ",new Date(l.status_data.last_updated).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${s==="light"?"text-black":"text-white"}`,children:"Timestamp:"})," ",new Date(l.timestamp).toLocaleString()]})]})]})]}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10 mt-4",children:[e.jsx("button",{onClick:()=>t(!1),className:`px-6 py-2 rounded-lg ${s==="light"?"text-black border-black/20":"text-white border-white/20"} font-bold bg-transparent border hover:bg-white/10 transition-colors`,children:"Back"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:m,disabled:r,className:`px-6 py-2 rounded-lg ${s==="light"?"text-black border-black/20":"text-white border-white/20"} font-bold bg-transparent border hover:bg-white/10 transition-colors disabled:opacity-50`,children:r?"Updating...":"Update"}),e.jsx("button",{onClick:()=>c(!0),className:`px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 ${s==="light"?"text-white":"text-black"} bg-red-500 hover:bg-red-600 hover:text-white shadow-lg shadow-red-200/20`,children:"Delete"})]})]})]})}),!n&&!l&&e.jsx("div",{className:"flex flex-col items-center justify-center py-20",children:e.jsx("p",{className:"text-gray-500",children:"No deployment details found"})}),l&&e.jsx(we,{isOPen:g,onClose:()=>c(!1),image:`Deployment ${l.deployment_id}`,deployment_id:l.deployment_id,onAlert:(w,S)=>{j(w,S),w==="success"&&v()}}),e.jsx(K,{isOpen:!!p,onClose:()=>b(null),type:(p==null?void 0:p.type)||"",message:(p==null?void 0:p.message)||""})]})},Tt=()=>{const{theme:t,toggleTheme:i,loading:s}=A(),{listDeployments:o,loading:u}=I(),[n,l]=a.useState([]),[y,g]=a.useState(""),[c,p]=a.useState(!1),[b,r]=a.useState(null),[d,x]=a.useState(1),[m,j]=a.useState(1),[v,w]=a.useState(!1),[S,_]=a.useState(!1),[f,N]=a.useState(null),[k,D]=a.useState(null),[M,P]=a.useState(!1),R=10;a.useEffect(()=>{F()},[d]);const F=async()=>{const h=await o(d,R);h?(l(h.deployments),j(Math.ceil(h.deployments.length/R)||1)):L("error","Failed to load deployments")},X=async()=>{P(!0),await F(),P(!1),L("success","Deployments refreshed")},z=n.filter(h=>h.image.toLowerCase().includes(y.toLowerCase())||h.status.toLowerCase().includes(y.toLowerCase())||h.deployment_id.toLowerCase().includes(y.toLowerCase())),O=z.slice((d-1)*R,d*R),E=()=>{d>1&&x(h=>h-1)},Z=()=>{d<m&&x(h=>h+1)},L=(h,H)=>{D({type:h,message:H}),setTimeout(()=>D(null),1e4)},J=h=>{r(h),p(!0)},Y=h=>{N(h),_(!0)},Q=()=>{F()},ee=()=>{F()};return s?null:e.jsxs("div",{className:"flex min-h-screen",children:[c&&e.jsx(zt,{setIsDeploymentId:p,deploymentId:b}),!c&&e.jsxs("main",{className:"flex-1 p-8 flex flex-col",children:[e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h2",{className:`text-3xl font-bold ${t==="light"?"text-black":"text-white"}`,children:["Deployments",e.jsxs("span",{className:"text-gray-500 text-2xl",children:["(",n.length,")"]})]}),e.jsx("button",{onClick:X,disabled:M||u,className:"p-2 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",title:"Refresh deployments",children:e.jsx(U,{size:20,className:`${t==="light"?"text-black":"text-white"} ${M?"animate-spin":""}`})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:y,placeholder:"Search by image, status, or ID...",onChange:h=>{g(h.target.value),x(1)},className:"bg-[#1A1B3A] text-white border border-[#2d3748] rounded-xl py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-[#00D2FF] transition-all w-72"}),e.jsx(ut,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})]}),u&&!M&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(U,{size:32,className:"animate-spin text-[#00D2FF]"})}),!u&&z.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:O.map(h=>e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card border ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} overflow-hidden shadow-lg rounded-xl p-6 flex flex-col justify-between transition-all duration-300 transform hover:-translate-y-1`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:`font-bold text-xl ${t==="light"?"text-black":"text-white"}`,children:h.image}),e.jsxs("span",{className:`
                          ${h.status==="active"?"bg-green-500/20 text-green-400":h.status==="pending"?"bg-yellow-500/20 text-yellow-400":h.status==="terminated"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}
                          flex items-center text-xs font-semibold px-2 py-1 rounded-full
                        `,children:[e.jsx("span",{className:`
                            ${h.status==="active"?"bg-green-400":h.status==="pending"?"bg-yellow-400 animate-pulse":h.status==="terminated"?"bg-red-400":"bg-gray-400"}
                            w-2 h-2 rounded-full mr-2
                          `}),h.status]})]}),e.jsxs("div",{className:"space-y-3 text-gray-500 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Deployment ID:"})," ",h.deployment_id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created At:"})," ",new Date(h.created_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mt-6",children:[e.jsx("button",{onClick:()=>J(h.deployment_id),className:`text-xs font-semibold text-gray-500 ${t==="light"?"":"hover:text-white"} transition-colors`,children:"View Details"}),e.jsx("button",{onClick:()=>Y(h),className:"text-xs font-semibold text-red-500 hover:text-red-600 transition-colors",children:"Delete"})]})]},h.deployment_id))}):!u&&e.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400 mt-16 flex-1",children:[e.jsx(st,{size:48,className:"mb-4 text-gray-500"}),e.jsx("p",{className:"text-lg font-semibold",children:"No deployments found"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create your first deployment to get started"})]}),z.length>0&&m>1&&e.jsx("div",{className:"mt-auto flex justify-center items-center sticky bottom-0 bg-[#0f0f1f] py-4",children:e.jsxs("nav",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:E,disabled:d===1,className:`p-2 rounded-lg transition-colors ${d===1?"text-gray-500 cursor-not-allowed":"text-white hover:bg-gray-300 hover:text-gray-800"}`,children:e.jsx(He,{size:24})}),e.jsxs("span",{className:"px-4 py-2 rounded-lg bg-[#00D2FF] text-gray-800 font-bold text-sm",children:[d," / ",m]}),e.jsx("button",{onClick:Z,disabled:d===m,className:`p-2 rounded-lg transition-colors ${d===m?"text-gray-500 cursor-not-allowed":"text-white hover:bg-gray-300 hover:text-gray-800"}`,children:e.jsx(Ve,{size:24})})]})})]}),e.jsx($.button,{drag:!0,dragConstraints:{top:0,right:0,bottom:0,left:0},whileDrag:{scale:1.1},onClick:()=>w(!0),className:"fixed bottom-8 right-8 bg-[#00D2FF] hover:bg-cyan-500 text-white font-bold rounded-full h-16 w-16 flex items-center justify-center shadow-lg transform hover:scale-105 transition-all duration-300",children:e.jsx(re,{size:24,className:"text-gray-100"})}),e.jsx(fe,{isOPen:v,onClose:()=>{w(!1),Q()},onAlert:L}),f&&e.jsx(we,{isOPen:S,onClose:()=>{_(!1),N(null),ee()},image:f.image,deployment_id:f.deployment_id,onAlert:L}),e.jsx(K,{isOpen:!!k,onClose:()=>D(null),type:(k==null?void 0:k.type)||"",message:(k==null?void 0:k.message)||""})]})},Ne=a.createContext(void 0),Lt=({children:t,logout:i})=>e.jsx(Ne.Provider,{value:{logout:i},children:t}),It=()=>{const t=a.useContext(Ne);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Et=({isOPen:t,onClose:i,onAlert:s})=>{const[o,u]=a.useState(!1),{logout:n}=It(),l=async()=>{u(!0),await n(),u(!1),i(),s("success","Loggedout successuf!")};return e.jsx(T,{children:t&&e.jsx(q,{children:e.jsxs($.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},className:"w-[350px] max-w-4xl h-[350px] flex flex-col glassmorphism-card overflow-hidden border border-white/10 shadow-2xl rounded-xl duration-300",children:[e.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:"Confirm Logout"}),e.jsx("button",{onClick:i,disabled:o,className:"text-white/50 hover:text-white transition-colors",children:e.jsx(B,{size:24})})]}),e.jsx("main",{className:"flex-grow p-6 overflow-y-auto text-white space-y-6",children:e.jsxs("div",{className:"flex items-start gap-3 bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg",children:[e.jsx(be,{size:20,className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"You are about to Logout. This action will disconnect your wallet connection with us."})]})}),e.jsxs("footer",{className:"flex items-center justify-between p-5 border-t border-white/10",children:[e.jsx("button",{onClick:i,disabled:o,className:"px-6 py-2 rounded-lg text-white font-bold bg-transparent border border-white/20 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:o,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-black bg-red-500 hover:bg-red-500 hover:text-white shadow-lg shadow-red-200/20 disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Loging Out..."]}):"Logout"})]})]},"modal")})})},Ut=()=>{const{theme:t,toggleTheme:i,loading:s}=A();if(s)return null;const[o,u]=a.useState(!1),[n,l]=a.useState(!1),[y,g]=a.useState("example@gmail.com"),[c,p]=a.useState(""),[b,r]=a.useState(!1),[d,x]=a.useState(null),m=async()=>{l(!0),await new Promise(v=>setTimeout(v,1e4)),l(!1),x(null),x({type:"error",message:"Please try again later!"}),u(!1)},j=(v,w)=>{x({type:v,message:w}),setTimeout(()=>x(null),1e4)};return e.jsxs("div",{className:"flex min-h-screen",children:[e.jsxs("main",{className:"flex-1 p-8 flex flex-col",children:[e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:e.jsx("h2",{className:`text-3xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Settings"})}),e.jsxs("section",{children:[o&&e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} p-4 mx-8 flex flex-col  overflow-hidden border shadow-lg rounded-xl p-6 flex flex-col justify-between transition-all duration-300`,children:e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Update"}),e.jsxs("main",{children:[e.jsxs("div",{className:"m-4",children:[e.jsx("label",{className:`block  ${t==="light"?"text-black/70":"text-white/70"} mb-1`,children:"Email"}),e.jsx("input",{type:"email",value:y,onChange:v=>g(v.target.value),className:`w-full ${t==="light"?"bg-transparent border-black/10 text-black ":"bg-gray-900 border-white/10 text-white "} px-3 py-2 rounded  border `})]}),e.jsxs("div",{className:"m-4",children:[e.jsx("label",{className:`block ${t==="light"?"text-black/70":"text-white/70"} mb-1`,children:"Phone"}),e.jsx("input",{type:"number",value:c,onChange:v=>p(v.target.value),className:`w-full ${t==="light"?"bg-transparent border-black/10 text-black ":"bg-gray-900 border-white/10 text-white "} px-3 py-2 rounded  border `})]})]}),e.jsxs("footer",{className:"flex items-center justify-between p-5",children:[e.jsx("button",{onClick:()=>u(!1),className:`px-6 py-2 rounded-lg ${t==="light"?"text-black border-black/20":"text-white border-white/20"}  font-bold bg-transparent border hover:bg-white/10 transition-colors disabled:opacity-50`,children:"Cancel"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:m,disabled:n,className:"px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-black bg-cyan-500 hover:bg-cyan-600 hover:text-white shadow-lg shadow-cyan-200/20 disabled:opacity-50",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Updating..."]}):"Update"})})]})]})}),!o&&e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`glassmorphism-card ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} p-4 mx-8 flex flex-col  overflow-hidden border shadow-lg rounded-xl p-6 flex flex-col justify-between transition-all duration-300`,children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mx-3 mt-2",children:[e.jsx("h2",{className:`text-2xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Profile"}),e.jsxs("div",{className:`flex ${t==="light"?"bg-gray-400":"bg-gray-800"} cursor-pointer items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-bold tracking-[0.015em] transition-colors hover:bg-opacity-80`,children:[e.jsx(le,{size:24,className:"text-cyan-800"}),e.jsx("span",{className:`truncate  ${t==="light"?"text-black":"text-white"}`,children:"0x123...abc"})]})]}),e.jsx("div",{className:"flex flex-col my-8 my-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 p-2 m-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${t==="light"?"text-black":"text-white"}`,children:"Email:"})," example@gmail.con"]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${t==="light"?"text-black":"text-white"}`,children:"Phone:"})," Not Found"]}),e.jsxs("p",{children:[e.jsx("span",{className:`font-bold ${t==="light"?"text-black":"text-white"}`,children:"Created At:"})," 2025-09-01T20:58:00.123456Z"]})]})}),e.jsxs("footer",{className:"flex items-center justify-between p-5",children:[e.jsx("div",{className:""}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>u(!0),className:`px-6 py-2 rounded-lg ${t==="light"?"text-black border-black/20":"text-white border-white/20"}  font-bold bg-transparent border hover:bg-white/10 transition-colors disabled:opacity-50`,children:"Update"}),e.jsx("button",{onClick:()=>r(!0),className:`px-6 py-2 rounded-lg font-bold flex items-center justify-center gap-2 ${t==="light"?"text-white":"text-black"} bg-red-500 hover:bg-red-600 hover:text-white shadow-lg shadow-red-200/20 disabled:opacity-50`,children:"Logout"})]})]})]})})]})]}),e.jsx(K,{isOpen:!!d,onClose:()=>x(null),type:(d==null?void 0:d.type)||"",message:(d==null?void 0:d.message)||""}),e.jsx(Et,{isOPen:b,onClose:()=>r(!1),onAlert:j})]})},ve=(t,i,s=5,o=500)=>new Promise((u,n)=>{let l=0;const y=()=>{chrome.tabs.sendMessage(t,i,g=>{chrome.runtime.lastError?(l++,l<s?(console.warn(`Retrying sendMessage... attempt ${l}, error: ${chrome.runtime.lastError.message}`),setTimeout(y,o)):n(new Error(`Failed after ${s} retries`))):u(g)})};y()});class ke{constructor(){te(this,"callbacks",new Map);te(this,"listener");this.listener=i=>{if(i.type&&this.callbacks.has(i.type)){const s=this.callbacks.get(i.type);s&&s(i.data)}},chrome.runtime.onMessage.addListener(this.listener)}onMessage(i){["wallet_connected","payment_result"].forEach(o=>{this.callbacks.set(o,u=>i(o,u))})}cleanup(){this.listener&&chrome.runtime.onMessage.removeListener(this.listener),this.callbacks.clear()}}const Bt=()=>{const{theme:t,loading:i}=A(),[s,o]=a.useState(!1),[u,n]=a.useState(""),[l,y]=a.useState("keplr"),[g,c]=a.useState("idle"),[p,b]=a.useState(""),[r,d]=a.useState("");if(a.useEffect(()=>{(async()=>{const w=await se.getWallet();w&&(w==="keplr"||w==="leap")&&y(w)})();const v=new ke;return v.onMessage((w,S)=>{console.log("Received message:",w,S),w==="payment_result"&&(S.status==="success"?(c("success"),b("Payment successful!"),d(S.txHash||""),n(""),setTimeout(()=>{o(!1),c("idle"),b(""),d("")},3e3)):S.status==="failed"&&(c("failed"),b(S.error||"Payment failed")))}),()=>{v.cleanup()}},[]),i)return null;const x=async()=>{if(!u||isNaN(Number(u))||Number(u)<=0){c("failed"),b("Please enter a valid amount");return}c("processing"),b("Opening payment window...");try{await se.setWallet(l);const j=await chrome.tabs.query({url:`${V}/*`});let v;if(j.length>0?(v=j[0],await chrome.tabs.update(v.id,{active:!0})):(v=await chrome.tabs.create({url:V,active:!1}),b("Loading payment page..."),await new Promise(S=>setTimeout(S,2e3))),!(v!=null&&v.id)){c("failed"),b("Error: Could not create web app tab");return}b("Connecting to wallet...");const w=await ve(v.id,{action:"open_payment",data:{amount:u,wallet:l}},5,500);(w==null?void 0:w.status)==="payment_opened"?b("Waiting for wallet confirmation..."):(c("failed"),b("Failed to open payment window"))}catch{c("failed"),b("Failed to open payment window")}},m=()=>{c("idle"),b(""),d("")};return e.jsx("div",{className:"flex min-h-screen",children:e.jsxs("main",{className:"flex-1 p-8 flex flex-col",children:[e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex justify-between items-center mb-8",children:e.jsx("h2",{className:`text-3xl font-bold ${t==="light"?"text-black":"text-white"}`,children:"Payments Overview"})}),e.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:`flex ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20":"border-white/10 text-white bg-gray-900 opacity-5"} justify-between w-full mt-8 gap-3 px-4 py-4 text-md font-medium text-white glassmorphism-card border shadow-lg rounded-xl`,children:[e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex text-cyan-500 rounded-xl bg-black/20 shrink-0 p-4 m-2",children:e.jsx(le,{size:26})}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("p",{className:`text-lg font-bold ${t==="light"?"text-black":"text-white"}`,children:"123.45 AKT"}),e.jsx("p",{className:"text-sm text-gray-500",children:"AKT Balance"})]})]})}),e.jsxs("div",{className:"relative z-50",children:[e.jsxs("button",{onClick:()=>{o(!s),s||m()},disabled:g==="processing",className:`flex mt-4 min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-2xl h-10 px-7 bg-cyan-500 ${t==="light"?"text-white":"text-black"} text-base font-bold leading-normal tracking-wide shadow-lg shadow-cyan-500/20 hover:bg-cyan-600 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed gap-2`,children:[e.jsx("span",{className:"truncate",children:"Add Funds"}),e.jsx(qe,{size:18,className:`transition-transform duration-200 ${s?"rotate-180":""}`})]}),e.jsx(T,{children:s&&e.jsxs($.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:`absolute right-0 mt-2 w-80 ${t==="light"?"bg-white border-gray-200":"bg-gray-800 border-gray-700"} border rounded-xl shadow-2xl p-4 z-50`,children:[p&&e.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-lg flex items-start gap-3 ${g==="processing"?t==="light"?"bg-blue-100 text-blue-800":"bg-blue-900/30 text-blue-300":g==="success"?t==="light"?"bg-green-100 text-green-800":"bg-green-900/30 text-green-300":t==="light"?"bg-red-100 text-red-800":"bg-red-900/30 text-red-300"}`,children:[g==="processing"&&e.jsx(xe,{className:"w-5 h-5 animate-spin flex-shrink-0 mt-0.5"}),g==="success"&&e.jsx(ae,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),g==="failed"&&e.jsx(ge,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:p}),r&&e.jsxs("p",{className:"text-xs mt-1 break-all opacity-75",children:["Tx: ",r.slice(0,20),"..."]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Select Wallet"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>y("keplr"),disabled:g==="processing",className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${l==="keplr"?"bg-cyan-500 text-white":t==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Keplr"}),e.jsx("button",{onClick:()=>y("leap"),disabled:g==="processing",className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${l==="leap"?"bg-cyan-500 text-white":t==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-700 text-gray-300 hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Leap"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="light"?"text-gray-700":"text-gray-300"}`,children:"Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:u,onChange:j=>n(j.target.value),placeholder:"0.00",step:"0.01",min:"0",disabled:g==="processing",className:`w-full ${t==="light"?"bg-gray-50 border-gray-300 text-gray-900":"bg-gray-700 border-gray-600 text-white"} border rounded-lg py-2 px-3 pr-12 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent disabled:opacity-50`}),e.jsx("div",{className:`absolute right-3 top-1/2 -translate-y-1/2 ${t==="light"?"text-gray-600":"text-gray-400"} font-semibold text-sm`,children:"AKT"})]})]}),e.jsx("button",{onClick:x,disabled:g==="processing"||!u||g==="success",className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold py-2.5 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex items-center justify-center gap-2",children:g==="processing"?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):g==="success"?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4"}),"Payment Completed"]}):"Pay Now"})]})})]})]}),e.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-8 grid grid-cols-2 gap-4",children:e.jsx("div",{className:""})}),s&&e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold tracking-[-0.015em] ${t==="light"?"text-black":"text-white"}`,children:"Recent Activity"}),e.jsx("br",{}),e.jsx(je,{})]})]})})},Ot=()=>{const[t,i]=a.useState([]),[s,o]=a.useState(0),[u,n]=a.useState(0),[l,y]=a.useState(null),[g,c]=a.useState(!0),[p,b]=a.useState(null),{theme:r}=A(),[d,x]=a.useState("providers");a.useEffect(()=>{m()},[]);const m=async()=>{c(!0),b(null);try{await Promise.all([j(),v()])}catch(f){b("Failed to fetch data. Please try again."),console.error("Error fetching data:",f)}finally{c(!1)}},j=async()=>{try{const f=await fetch(`${ne}/providers`);if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const N=await f.json();i(N.data.providers||[]),o(N.data.akt_price_usd||0),n(N.data.total_providers||0)}catch(f){throw console.error("Error fetching providers:",f),f}},v=async()=>{try{const f=await fetch(`${ne}/monitoring/metrics`);if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const N=await f.json();if(N.resource_data){const k={timestamps:N.resource_data.timestamps.filter((D,M)=>typeof N.resource_data.cpu[M]=="number"&&typeof N.resource_data.memory[M]=="number"),cpu:N.resource_data.cpu.filter(D=>typeof D=="number"),memory:N.resource_data.memory.filter(D=>typeof D=="number")};y(k)}else y(null)}catch(f){throw console.error("Error fetching metrics:",f),f}},w=f=>{if(f===0)return"0 Bytes";const N=1024,k=["Bytes","KB","MB","GB","TB"],D=Math.floor(Math.log(f)/Math.log(N));return Math.round(f/Math.pow(N,D)*100)/100+" "+k[D]},S=f=>(f*100).toFixed(2)+"%",_=f=>{try{return new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return f}};return g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:`${r==="light"?"text-black":"text-white"} text-xl`,children:"Loading dashboard..."})})}):p?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-red-500/20 border border-red-500 rounded-xl p-6 max-w-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Je,{className:"text-red-400",size:24}),e.jsx("h3",{className:`text-xl font-bold ${r==="light"?"text-black":"text-white"}`,children:"Error Loading Data"})]}),e.jsx("p",{className:"text-red-200 mb-4",children:p}),e.jsx("button",{onClick:m,className:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg transition-all",children:"Retry"})]})}):e.jsx("div",{className:"min-h-screen p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-4xl font-bold ${r==="light"?"text-black":"text-white"} mb-2`,children:"Private Dashboard"}),e.jsx("p",{className:"text-cyan-500",children:"Manage your cloud resources and monitor performance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:` ${r==="light"?"bg-black/10 border-black/20":"bg-white/10 border-white/20"} backdrop-blur-lg rounded-xl p-6 border `,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-1",children:"Total Providers"}),e.jsx("p",{className:`${r==="light"?"text-black":"text-white"} text-3xl font-bold`,children:u})]}),e.jsx(G,{className:"text-purple-400",size:40})]})}),e.jsx("div",{className:` ${r==="light"?"bg-black/10 border-black/20":"bg-white/10 border-white/20"} backdrop-blur-lg rounded-xl p-6 border `,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-1",children:"AKT Price"}),e.jsxs("p",{className:`${r==="light"?"text-black":"text-white"} text-3xl font-bold`,children:["$",s.toFixed(4)]})]}),e.jsx(pe,{className:"text-green-400",size:40})]})}),e.jsx("div",{className:` ${r==="light"?"bg-black/10 border-black/20":"bg-white/10 border-white/20"} backdrop-blur-lg rounded-xl p-6 border `,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-1",children:"Active Status"}),e.jsxs("p",{className:`${r==="light"?"text-black":"text-white"} text-3xl font-bold`,children:[t.filter(f=>f.is_online).length,"/",t.length]})]}),e.jsx(ce,{className:"text-blue-400",size:40})]})})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("button",{onClick:()=>x("providers"),className:`px-6 py-3 rounded-lg font-semibold transition-all ${d==="providers"?"bg-cyan-500 text-white":"bg-white/30 text-cyan-500 hover:bg-white/20"}`,children:"Providers"}),e.jsx("button",{onClick:()=>x("monitoring"),className:`px-6 py-3 rounded-lg font-semibold transition-all ${d==="monitoring"?"bg-cyan-500 text-white":"bg-white/30 text-cyan-500 hover:bg-white/20"}`,children:"Monitoring"})]}),d==="providers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:`text-2xl font-bold ${r==="light"?"text-black":"text-white"}`,children:"Available Providers"}),e.jsxs("button",{className:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-all",children:[e.jsx(re,{size:20}),"Add Provider"]})]}),t.length===0?e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-12 border border-white/20 text-center",children:[e.jsx(G,{className:"mx-auto text-purple-400 mb-4",size:48}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Providers Available"}),e.jsx("p",{className:"text-purple-300",children:"Add a provider to get started"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map((f,N)=>e.jsxs("div",{className:` ${r==="light"?"bg-black/10 border-black/20 ":"bg-white/10 border-white/20 "} backdrop-blur-lg rounded-xl p-6 border hover:border-cyan-400 transition-all`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-bold ${r==="light"?"text-black":"text-white"} mb-1`,children:f.name}),e.jsx("p",{className:"text-cyan-500 text-sm font-mono",children:f.address})]}),e.jsx("div",{className:"flex items-center gap-2",children:f.is_online?e.jsxs(e.Fragment,{children:[e.jsx(Ct,{className:"text-green-400",size:20}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Online"})]}):e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:"text-red-400",size:20}),e.jsx("span",{className:"text-red-400 font-semibold",children:"Offline"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-1",children:"Region"}),e.jsx("p",{className:`${r==="light"?"text-black":"text-white"} font-semibold`,children:f.region})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-1",children:"Uptime"}),e.jsx("p",{className:`${r==="light"?"text-black":"text-white"} font-semibold`,children:S(f.uptime)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-1",children:"CPU Available"}),e.jsxs("p",{className:`${r==="light"?"text-black":"text-white"} font-semibold`,children:[f.available_resources.cpu," units"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-1",children:"Memory"}),e.jsx("p",{className:`${r==="light"?"text-black":"text-white"} font-semibold`,children:w(f.available_resources.memory)})]})]}),e.jsxs("div",{className:`border-t ${r==="light"?"border-black/20":"border-white/20"} pt-4`,children:[e.jsx("p",{className:"text-cyan-500 text-sm mb-2",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${r==="light"?"text-black/70":"text-white/70"} text-xs`,children:"CPU/block"}),e.jsx("p",{className:`${r==="light"?"text-black":"text-white"} font-semibold`,children:f.pricing.cpu_per_unit_per_block})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${r==="light"?"text-black/70":"text-white/70"} text-xs`,children:"Memory/byte/block"}),e.jsx("p",{className:`${r==="light"?"text-black":"text-white"} font-semibold`,children:f.pricing.memory_per_byte_per_block})]}),e.jsxs("div",{children:[e.jsx("p",{className:`${r==="light"?"text-black/70":"text-white/70"} text-xs`,children:"Storage/byte/block"}),e.jsx("p",{className:`${r==="light"?"text-black":"text-white"} font-semibold`,children:f.pricing.storage_per_byte_per_block})]})]})]})]},N))})]}),d==="monitoring"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:`text-2xl font-bold ${r==="light"?"text-black":"text-white"}`,children:"System Resource Usage"}),!l||l.cpu.length===0?e.jsxs("div",{className:` ${r==="light"?"bg-black/10 border-black/20":"bg-white/10 border-white/20"} backdrop-blur-lg rounded-xl p-6 border `,children:[e.jsx(ce,{className:"mx-auto text-purple-400 mb-4",size:48}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Metrics Data"}),e.jsx("p",{className:"text-purple-300",children:"Monitoring data is not available"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:` ${r==="light"?"bg-black/10 border-black/20":"bg-white/10 border-white/20"} backdrop-blur-lg rounded-xl p-6 border `,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${r==="light"?"text-black":"text-white"} mb-4`,children:"Resource Usage Over Time"}),e.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:l.cpu.map((f,N)=>{const k=l.memory[N]||0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t transition-all hover:from-blue-400 hover:to-blue-300",style:{height:`${f*2}px`},title:`CPU: ${f}%`}),e.jsx("div",{className:"w-full bg-gradient-to-t from-pink-500 to-pink-400 rounded-t transition-all hover:from-pink-400 hover:to-pink-300",style:{height:`${k*2}px`},title:`Memory: ${k}%`})]}),e.jsx("span",{className:"text-cyan-500 text-xs",children:_(l.timestamps[N])})]},N)})})]}),e.jsxs("div",{className:"flex justify-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),e.jsx("span",{className:`${r==="light"?"text-black":"text-white"} text-sm`,children:"CPU Usage"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-pink-500 rounded"}),e.jsx("span",{className:`${r==="light"?"text-black":"text-white"} text-sm`,children:"Memory Usage"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:` ${r==="light"?"bg-black/10 border-black/20":"bg-white/10 border-white/20"} backdrop-blur-lg rounded-xl p-6 border `,children:[e.jsx("h3",{className:`text-lg font-semibold ${r==="light"?"text-black":"text-white"} mb-4`,children:"Current CPU Usage"}),e.jsxs("div",{className:"text-5xl font-bold text-blue-400 mb-2",children:[typeof l.cpu[l.cpu.length-1]=="number"?l.cpu[l.cpu.length-1].toFixed(1):"0.0","%"]}),e.jsx("p",{className:"text-cyan-500",children:"Average load"})]}),e.jsxs("div",{className:` ${r==="light"?"bg-black/10 border-black/20":"bg-white/10 border-white/20"} backdrop-blur-lg rounded-xl p-6 border `,children:[e.jsx("h3",{className:`text-lg font-semibold ${r==="light"?"text-black":"text-white"} mb-4`,children:"Current Memory Usage"}),e.jsxs("div",{className:"text-5xl font-bold text-pink-400 mb-2",children:[typeof l.memory[l.memory.length-1]=="number"?l.memory[l.memory.length-1].toFixed(1):"0.0","%"]}),e.jsx("p",{className:"text-cyan-500",children:"Of total memory"})]})]})]})]})]})})},ie=[{path:"dashboard",component:Ft,title:"Dashboard"},{path:"deployments",component:Tt,title:"Deployments"},{path:"payments",component:Bt,title:"Payments"},{path:"settings",component:Ut,title:"Settings"},{path:"private",component:Ot,title:"Private"}],Ht=()=>{const{theme:t,toggleTheme:i,loading:s}=A(),{currentRoute:o,navigate:u}=ye();return s?null:e.jsx("aside",{className:`w-64 ${t==="light"?"bg-gray-100 border-gray-200":"bg-gray-900 border-gray-800"} shadow-sm border-r`,children:e.jsx("nav",{className:"mt-8",children:e.jsx("div",{className:"px-4",children:ie.filter(n=>n.title.toLowerCase()!=="private").map(n=>e.jsxs($.a,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},onClick:()=>u(n.path),className:`flex items-center gap-4 rounded-lg px-3 py-2 my-2 text-lg transition-colors hover:bg-opacity-80 cursor-pointer ${o===n.path?" bg-[#FF4444] font-semibold font-medium":" font-medium"}`,children:[e.jsx("div",{className:`${t==="light"?"text-black":"text-white"}`,children:e.jsxs("span",{children:[n.title==="Dashboard"&&e.jsx(lt,{size:18,className:`${t==="light"?"text-black":"text-white"}`}),n.title==="Deployments"&&e.jsx(G,{size:18,className:`${t==="light"?"text-black":"text-white"}`}),n.title==="Payments"&&e.jsx(pe,{size:18,className:`${t==="light"?"text-black":"text-white"}`}),n.title==="Settings"&&e.jsx(bt,{size:18,className:`${t==="light"?"text-black":"text-white"}`})]})}),e.jsx("span",{className:`${t==="light"?"text-black":"text-white"}`,children:n.title})]},n.path))})})})},Wt=({children:t})=>{const{theme:i,toggleTheme:s,loading:o}=A();return o?null:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(St,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Ht,{}),e.jsx("main",{className:` flex-1 p-6 ${i==="light"?"bg-gray-100":"bg-gray-900"} `,children:t})]})]})},Vt=()=>{const{currentRoute:t}=ye(),i=ie.find(o=>o.path===t);if(!i){const o=ie[0].component;return e.jsx(o,{})}const s=i.component;return e.jsx(s,{})};class Gt extends ue.Component{constructor(i){super(i),this.state={hasError:!1}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,s){console.error("ErrorBoundary caught an error:",i,s)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"An unexpected error occurred. Please refresh the page and try again."}),this.state.error&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-400 cursor-pointer",children:"Error details"}),e.jsx("pre",{className:"text-xs text-gray-400 mt-1 whitespace-pre-wrap",children:this.state.error.toString()})]})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-cyan-500 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Refresh Page"})]})}):this.props.children}}const qt=()=>e.jsx(Gt,{children:e.jsx(ze,{children:e.jsx(Wt,{children:e.jsx(Vt,{})})})}),Kt=({children:t})=>{const i=I(),[s,o]=a.useState(!1),[u,n]=a.useState(!0),[l,y]=a.useState(null),[g,c]=a.useState("Checking authentication..."),p=a.useCallback(async()=>{await i.logout(),o(!1),y(null),c("Logged out successfully")},[i]),b=a.useCallback(async()=>{c("Opening authentication window...");try{const r=await chrome.tabs.query({url:`${V}/*`});let d;if(r.length>0?(d=r[0],await chrome.tabs.update(d.id,{active:!0})):(d=await chrome.tabs.create({url:V,active:!1}),await new Promise(x=>setTimeout(x,2e3))),!(d!=null&&d.id)){c("Error: Could not create web app tab");return}ve(d.id,{action:"open_auth"},5,500).then(x=>{(x==null?void 0:x.status)==="auth_opened"&&c("Auth window opened, waiting for wallet connection...")}).catch(x=>{c("Could not open auth window. Make sure the web app is loaded and try again.")})}catch{c("Failed to open auth window")}},[]);return a.useEffect(()=>{let r=!0;(async()=>{n(!0),c("Loading...");try{const m=await i.isAuthenticated();if(!r)return;if(!m){n(!1),c("Please connect your wallet");return}const j=await i.validateSession();if(!r)return;if(j&&j.valid){const v=await i.getWalletAddress();y(v),o(!0),c("Session validated successfully"),n(!1)}else{c("Session expired, refreshing...");const v=await i.refreshSession();if(!r)return;if(v){const w=await i.getWalletAddress();y(w),o(!0),c("Session refreshed successfully"),n(!1)}else n(!1),c("Session expired, please reconnect wallet")}}catch(m){if(console.error("Session validation error:",m),!r)return;n(!1),c("Please connect your wallet")}})();const x=new ke;return x.onMessage((m,j)=>{console.log("Received message:",m,j),m==="wallet_connected"&&(c("Wallet connected! Creating session..."),y(j.address||null),i.createSession({wallet_address:j.address,nonce:j.nonce,signature:j.signature}).then(v=>{v?(o(!0),c("Authentication successful!")):c("Session creation failed, please try again")})),m==="auth_failed"&&c("Wallet connection failed, please try again"),m==="auth_cancelled"&&c("Authentication cancelled")}),()=>{var m;r=!1,(m=x.cleanup)==null||m.call(x)}},[]),a.useEffect(()=>{if(!s)return;const r=setInterval(async()=>{await i.isAuthenticated()||(await i.refreshSession()?console.log("Token refreshed successfully"):(o(!1),c("Session expired, please reconnect wallet")))},5*60*1e3);return()=>{console.log("Cleaning up token refresh interval"),clearInterval(r)}},[s,i]),u?e.jsx("div",{className:"flex items-center justify-center min-h-[600px] min-w-80 bg-gray-50",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium",children:g})]})}):s?e.jsx(e.Fragment,{children:t(p)}):e.jsx("div",{className:"flex items-center justify-center min-h-[600px] min-w-80 bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"rounded-2xl glassmorphism-card border-1 border-red-500 p-8 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"rounded-full flex items-center justify-center my-16 mx-auto mb-4",children:e.jsx("img",{src:"public/icons/icon128.png",alt:"Jarvis",className:"w-8 h-8"})}),e.jsx("h1",{className:"text-2xl sm:text-sm xs:text-xs font-bold text-gray-900 mb-2",children:"Welcome To Jarvis"}),e.jsx("p",{className:"sm:text-sm xs:text-xs text-gray-600 mb-6",children:g})]}),e.jsx("br",{}),e.jsx("button",{onClick:b,disabled:i.loading,className:"w-full bg-cyan-500 hover:bg-cyan-600 disabled:bg-blue-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:i.loading?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Connecting..."})]}):e.jsx(e.Fragment,{children:e.jsx("span",{className:"sm:text-sm xs:text-xs",children:"Connect Wallet"})})}),i.error&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800 text-sm sm:text-sm xs:text-xs",children:i.error})})]})})};Te.createRoot(document.getElementById("root")).render(e.jsx(ue.StrictMode,{children:e.jsx(Kt,{children:t=>e.jsx(Lt,{logout:t,children:e.jsx(qt,{})})})}));
