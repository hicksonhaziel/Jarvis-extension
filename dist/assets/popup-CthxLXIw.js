import{c as N,u,r as a,a as k,j as e,m as i,W as A,f as $,A as p,T as R,b as S,R as L}from"./globals-L6gN_Oex.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],C=N("external-link",V),D=()=>{const l=u(),[f,n]=a.useState(!0),[y,o]=a.useState(!1),{theme:t,toggleTheme:M,loading:b}=k(),[w,c]=a.useState(null),[j,d]=a.useState(0),{listDeployments:h}=u();a.useEffect(()=>{(async()=>{try{if(!await l.isAuthenticated()){chrome.tabs.create({url:chrome.runtime.getURL("src/pages/main/index.html#dashboard")}),window.close();return}const m=await l.validateSession();if(m&&m.valid){const g=await p.getWalletAddress();c(g);const s=await h();s&&s.deployments&&d(s.deployments.length),o(!0),n(!1)}else if(await l.refreshSession()){const s=await p.getWalletAddress();c(s);const r=await h();r&&r.deployments&&d(r.deployments.length),o(!0),n(!1)}else chrome.tabs.create({url:chrome.runtime.getURL("src/pages/main/index.html#dashboard")}),window.close()}catch(x){console.error("Auth check error:",x),chrome.tabs.create({url:chrome.runtime.getURL("src/pages/main/index.html#dashboard")}),window.close()}})()},[l]);const v=()=>{chrome.tabs.create({url:chrome.runtime.getURL("src/pages/main/index.html#dashboard")})};return f||b?e.jsx("div",{className:"w-80 h-[600px] flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-600 mb-3"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"Loading..."})]})}):y?e.jsx("div",{className:`w-80 h-[600px] ${t==="light"?"bg-gray-100":"bg-gray-900"}`,children:e.jsx("div",{className:`relative flex flex-col h-full ${t==="light"?"bg-gray-100":"bg-gray-900"} group/design-root overflow-hidden`,children:e.jsxs("div",{className:"flex h-full grow flex-col",children:[e.jsxs(i.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`flex items-center justify-between whitespace-nowrap border-b border-solid ${t==="light"?"border-gray-200":"border-[#1A1B3A]"} px-6 py-4`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"text-[#FF4444] size-6",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{clipRule:"evenodd",d:"M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z",fill:"currentColor",fillRule:"evenodd"})}),e.jsx("h2",{className:`${t==="light"?"text-black":"text-white"} text-xl font-bold`,children:"Jarvis"})]}),e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-8"})]}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between p-6",children:[e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"flex m-1 p-1 justify-between",children:[e.jsx("h3",{className:`${t==="light"?"text-black":"text-white"} text-xl font-medium`,children:"Welcome"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:`flex cursor-pointer items-center justify-center gap-2 rounded-lg ${t==="light"?"bg-gray-400":"bg-gray-800"} px-2 py-1 text-sm font-medium tracking-[0.015em] transition-colors hover:bg-opacity-80`,children:[e.jsx(A,{size:20,className:"text-cyan-800"}),e.jsx("span",{className:`truncate ${t==="light"?"text-black":"text-white"}`,children:$(w)})]})})]}),e.jsxs(i.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.7,delay:.1},whileHover:{scale:1.05,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},onClick:v,className:`flex w-full mt-8 cursor-pointer items-center justify-center gap-2 px-4 py-4 text-xl font-medium text-white transition-colors glassmorphism-card overflow-hidden border ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20 shadow-md":"border-white/10 text-white bg-gray-900 opacity-5 shadow-xl"} rounded-xl duration-300 transform hover:-translate-y-1`,children:[e.jsx(C,{size:24,className:`truncate ${t==="light"?"text-black":"text-white"}`}),e.jsx("span",{className:`truncate ${t==="light"?"text-black":"text-white"}`,children:"Open Main Dashboard"})]})]})}),e.jsxs("div",{className:"flex flex-col gap-3 mt-8",children:[e.jsx("h4",{className:`${t==="light"?"text-black":"text-white"} text-lg font-bold`,children:"Deployments Overview"}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:`flex flex-col w-full mt-4 cursor-pointer text-lg font-medium ${t==="light"?"border-black/10 text-black bg-indigo-100 opacity-20 shadow-md":"border-white/10 text-white bg-gray-900 opacity-5 shadow-xl"} transition-colors glassmorphism-card overflow-hidden border rounded-xl duration-300 transform hover:-translate-y-1`,children:e.jsxs("div",{className:"flex items-center justify-between p-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-sm ${t==="light"?"text-gray-800":"text-gray-400"}`,children:"Total Deployments"})}),e.jsx("span",{className:`${t==="light"?"text-gray-800":"text-white"} mr-2`,children:j})]})})]})]})]})})}):null},H=()=>e.jsx(R,{children:e.jsx(D,{})});S.createRoot(document.getElementById("root")).render(e.jsx(L.StrictMode,{children:e.jsx(H,{})}));
